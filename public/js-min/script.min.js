const hyruleRepository=function(){let e=[],t=[];function i(){return e}function n(t){if("object"!=typeof t||!("name"in t)||!("id"in t)||!("category"in t)||!("description"in t)||!("image"in t))return"This is not an object, please add an object in the list!";e.push(t)}function l(e){var t;let i=document.querySelector(".modal-container");i.classList.add("is-active");let n=e.name,l=n.split(" ");for(let a=0;a<l.length;a++)l[a]=l[a].charAt(0).toUpperCase()+l[a].slice(1);let r=l.join(" "),o=document.querySelector(".modal-content-header");o.innerText=((t=e.id)<10?"00":t<100?"0":"")+t+" "+r;let s=document.querySelector(".modal-content-category");s.innerText=e.category;let c=document.querySelector(".modal-content-image");c.setAttribute("src",e.image),c.setAttribute("alt","An image of "+e.name);let d=document.querySelector(".modal-content-description");d.innerText=e.description;let u=document.querySelector(".modal-content-location"),m="";m=null===e.common_locations?"Unknown":e.common_locations.join(", "),u.innerText=m}function a(){let e=document.querySelector(".modal-container");e.classList.remove("is-active")}window.addEventListener("keydown",e=>{let t=document.querySelector(".modal-container");"Escape"===e.key&&t.classList.contains("is-active")&&a()}),window.addEventListener("click",e=>{let t=document.querySelector(".modal-background"),i=e.target;i===t&&a()});let r=document.querySelector(".categories-container");r.addEventListener("click",t=>{let i=t.target.id,n=e.filter(function(e){if(e.category!==i)return e}),l=e.filter(function(e){if(e.category===i)return e});l.push(...e.filter(function(e){return e.id.toString().includes(i)})),n.map(e=>{document.getElementById(e.id).classList.add("hidden")}),l.map(e=>{document.getElementById(e.id).classList.remove("hidden")});let a=r.getElementsByClassName("categories");for(let o=0;o<a.length;o++)a[o].addEventListener("click",function(){document.querySelector(".is-active")&&document.querySelector(".is-active").classList.remove("is-active"),this.classList.add("is-active")})});let o=document.getElementById("search-for-name-id"),s=document.querySelector(".reset-icon");return o.addEventListener("keyup",function(t){let i=t.target.value.toLowerCase(),n=e.filter(function(e){if(!e.name.toLowerCase().includes(i)||!e.id.toString().includes(i))return e}),l=e.filter(function(e){if(e.name.toLowerCase().includes(i)||e.id.toString().includes(i))return e});l.push(...e.filter(function(e){return e.id.toString().includes(i)})),n.map(e=>{document.getElementById(e.id).classList.add("hidden")}),l.map(e=>{document.getElementById(e.id).classList.remove("hidden")}),o.value&&"visible"!=s.style.visibility?s.style.visibility="visible":o.value||(s.style.visibility="hidden")}),s.addEventListener("click",()=>{o.value="",s.style.visibility="hidden"}),{getAll:i,add:n,loadList:function e(){return fetch("https://botw-compendium.herokuapp.com/api/v2").then(function(e){return e.json()}).then(function(e){let i=e.data;t.push(...Object.keys(i));let l=[...t.map(e=>"creatures"===e?[...i[e].food,...i[e].non_food,]:i[e]),],a=l.flat();a.sort((e,t)=>e.id-t.id),a.forEach(e=>{n(e)})}).catch(function(e){console.error(e)})},addListItem:function e(t){var i;let n=document.querySelector(".list-container"),a=document.createElement("li");a.classList.add("list-item"),a.setAttribute("id",t.id),n.appendChild(a);let r=document.createElement("div");r.classList.add("img-container"),a.appendChild(r);let o=document.createElement("img");o.classList.add("default-loading-images"),o.setAttribute("src",t.image),o.setAttribute("alt","An image of "+t.name),r.appendChild(o);let s=document.createElement("p");s.classList.add("number"),s.innerText=((i=t.id)<10?"00":i<100?"0":"")+i,r.appendChild(s);let c=document.createElement("div");c.classList.add("object-border"),r.appendChild(c);let d=t.name,u=d.split(" ");for(let m=0;m<u.length;m++)u[m]=u[m].charAt(0).toUpperCase()+u[m].slice(1);let p=u.join(" "),y=document.createElement("p");y.classList.add("object-name"),y.innerText=p;let f=document.createElement("div");f.classList.add("center-object-name"),f.appendChild(y),a.appendChild(f),a.addEventListener("click",()=>{l(t)})},showDetails:l}}();hyruleRepository.loadList().then(function(){hyruleRepository.getAll().forEach(function(e){hyruleRepository.addListItem(e)})});